
<%= render plain: params[:page].inspect %>

<h2>Editing <%= @page.title %></h2>
<%= form_for @page, html: { id: 'page_form' } do |f| %>
  <p>
    <%= f.label :title, class: :edit_font %><br>
    <%= f.text_field :title %>
  </p>

  <p>
    <%= f.label :content %><br>
    
  </p>
	<div>
		  <%= f.label :content %><br>
      <div class="form-group">
      <%= f.hidden_field :content, :id => "post-content", required: true %>
      <div id="editor-container" hidden="true"></div>
      <div id="editor"><%= raw sanitize @page.content %></div>
    </div>
	</div>
  <p>
    <%= f.submit "Save changes" %>
  </p>
<% end %>


<head><link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet"></head>

<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<!-- Initialize Quill editor -->
<script>

	var options = {
		modules: {
			toolbar: [
				[{ header: [1, 2, 3, false] }],
				['bold', 'italic', 'underline'],
				['image', 'code']
			]
		},
		placeholder: 'Enter wiki content here.',
		theme: 'snow'
	}
  var form = document.querySelector('#page_form');
  var quill = new Quill('#editor', options);

  form.onsubmit = function() {
  var postContentInput = document.querySelector('#post-content');
  postContentInput.value = quill.root.innerHTML;
};
</script>

