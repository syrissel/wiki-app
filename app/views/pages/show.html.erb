
<div class="d-flex">
	<h3 class="align-self-end"><%= @page.title %></h3>
	<div class="d-flex flex-column ml-auto">
		<small class="text-muted ml-auto">Created by: <%= @page.user.username %> on <%= @page.created_at.strftime("%B %-d, %Y at %l:%M %p") %></small>
		<small class="text-muted ml-auto">Last edited by: <%= @page.last_user_edit %> on <%= @page.updated_at.strftime("%B %-d, %Y at %l:%M %p") %></small>
		<small id="wiki_options" class="ml-auto"><%= link_to "Edit", new_draft_path %> | <a href="#" onclick="window.print();return false;">Print</a></small>
	</div>
</div>
<hr>


<div id="show_container">
	<div class="">
		<div class="form_group note-editor"><%= raw @page.content %></div>
	</div>
</div>
<hr>

<% if current_user.user_level_id > INTERN_VALUE %>
<div class="row">

<div class="col-2"></div>
<div class="col-8">
<strong>Supervisor Options</strong>
<hr>
	<%= form_for @page do |f| %>
	<div class="form-group">
		<%= f.select :page_publish_status_id, @publish_statuses.map { |p| [ p.status, p.id ] }, { selected: @page.page_publish_status_id }, { class: 'form-control' } %>
	</div>
	<div class="d-flex justify-content-center">
		<div class="form-check form-check-inline">
			<%= f.check_box :category_pinned, class: 'form-check-input' %>
			<%= f.label :category_pinned, 'Pin to category', class: 'form-check-label' %>
		</div>
		<div class="form-check form-check-inline">
			<%= f.check_box :global_pinned, class: 'form-check-input' %>
			<%= f.label :global_pinned, 'Pin globally', class: 'form-check-label' %>
		</div>
	</div>
	<div class="form-group mt-2">
		<%= f.submit 'Update', class: 'btn btn-primary' %>
		<% if @page.page_publish_status_id == UNPUBLISHED %>
			<%= link_to 'Back', wiki_management_path, class: 'btn btn-secondary' %>
			<%= link_to 'Delete Wiki', page_path(@page), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger float-right' %>
		<% end %>
	</div>
	<% end %>
</div>
<div class="col-2"></div>
</div>
<% end %>


<style type="text/css">
	@media print{
		html, body {
			margin: 0px;
			padding: 0px;
		}

		#wiki_options {
			display: none;
		}

		#review_message {
			display: none;
		}

		#middle_content {
			margin: 0px;
			border: 0px;
			padding: 0px;
			width: 100%;
			
		}

		.header_container {
			display: none;
		}

		.row {
			display: none;
		}

		#side_panel {
			display: none;
		}

		footer {
			display: none;
		}

		.show_info a {
			display: none;
		}

		button {
			display: none;
		}

		#divider_container {
			display: none;
		}

		#show_container {
			margin: 0px;
			padding: 0 5rem;
		}

		title {
			display: none;
		}
}


</style>










